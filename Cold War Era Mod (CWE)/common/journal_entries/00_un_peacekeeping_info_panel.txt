je_un_peacekeeping_system = {
	icon = "gfx/interface/icons/diplo_icons/unsg_country.dds"

	possible = {
	
		has_modifier = unga_member
		
		has_global_variable = unsc_peackeeping_vote_count_var
		has_global_variable = unga_peackeeping_vote_count_var
		
		any_country = { has_variable = un_peacekeeping_applicant_var }
		
	}
	
	immediate = {
		
		random_country = {
			limit = { has_variable = un_peacekeeping_applicant_var }
			save_scope_as = un_peacekeeping_applicant_scope
		}
		
		#Count all UNSC members
		set_variable = { name = unsc_members_count value = 0 }
		every_country = {
			limit = { OR = { has_modifier = unsc_permanent_member has_modifier = unsc_non_permanent_member } }
			ROOT = { change_variable = { name = unsc_members_count add = 1 } }
		}
		
		#Count all UNGA members
		set_variable = { name = unga_members_count value = 0 }
		every_country = {
			limit = { has_modifier = unga_member }
			ROOT = { change_variable = { name = unga_members_count add = 1 } }
		}
		
	}

	complete = {
	
		OR = {
		
			custom_tooltip = {
				text = un_peacekeeping_resolution_voted_on.tt
				scope:un_peacekeeping_applicant_scope = {
					OR = { 
						NOT = { has_variable = un_peacekeeping_applicant_var }
						NOT = { has_variable = un_peacekeeping_resolution_passed }
					}
				}
			}
			
			NOT = { has_modifier = unga_member }
			
		}
		
	}
	
	on_complete = {
		
		
		
	}
	
	weight = 100

	should_be_pinned_by_default = yes

	transferable = no

	progressbar = no
	
}