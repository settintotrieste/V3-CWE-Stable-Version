namespace = country_tag_clean_up_system

#IAR changes to Rhineland upon independence
country_tag_clean_up_system.1 = {
	type = country_event
	hidden = yes

	trigger = {
		c:IAR ?= this
		NOT = { exists = c:RHE }
		
		is_sufficiently_independent = yes
		is_at_war = no
	}

	immediate = {
		change_tag = RHE
	}

}

#YUG changes to SER if no longer owns any non-serb lands
country_tag_clean_up_system.2 = {
	type = country_event
	hidden = yes

	trigger = {
		c:YUG ?= this
		NOT = { exists = c:SER }
		
		is_sufficiently_independent = yes
		is_at_war = no
		
		#All Yugoslav states are free
		OR = { exists = c:SLO NOT = { any_scope_state = { state_region = { is_homeland = cu:slovene } } } }
		OR = { exists = c:CRO NOT = { any_scope_state = { state_region = { is_homeland = cu:croat } } } }
		OR = { exists = c:BOS NOT = { any_scope_state = { state_region = { is_homeland = cu:bosniak } } } }
		OR = { exists = c:MCD NOT = { any_scope_state = { state_region = { is_homeland = cu:macedonian } } } }
	}

	immediate = {
		change_tag = SER
		remove_primary_culture = cu:yugoslav
		remove_primary_culture = cu:croat
		remove_primary_culture = cu:slovene
		remove_primary_culture = cu:bosniak
	}

}

#CAF changes to RHO if no longer owns any non-ZIM lands
country_tag_clean_up_system.3 = {
	type = country_event
	hidden = yes

	trigger = {
		c:CAF ?= this
		NOT = { exists = c:RHO }
		
		is_sufficiently_independent = yes
		is_at_war = no
		
		#All CAF states are free
		OR = { exists = c:ZAM NOT = { any_scope_state = { state_region = { is_homeland = cu:zambian } } } }
		OR = { exists = c:MLW NOT = { any_scope_state = { state_region = { is_homeland = cu:malawian } } } }
	}

	immediate = {
		change_tag = RHO
		remove_primary_culture = cu:british
	}

}

#CZH changes to BOH if no longer owns any non-SLO lands
country_tag_clean_up_system.4 = {
	type = country_event
	hidden = yes

	trigger = {
		c:CZH ?= this
		NOT = { exists = c:BOH }
		
		is_sufficiently_independent = yes
		is_at_war = no
		
		#All CZH states are free
		OR = { exists = c:SLO NOT = { any_scope_state = { state_region = { is_homeland = cu:slovak } } } }
	}

	immediate = {
		change_tag = BOH
		remove_primary_culture = cu:czechoslovakian
		remove_primary_culture = cu:slovak
	}

}

#SOV changes to RUS if no longer owns any non-RUS lands
country_tag_clean_up_system.5 = {
	type = country_event
	hidden = yes

	trigger = {
		c:SOV ?= this
		NOT = { exists = c:RUS }
		
		is_sufficiently_independent = yes
		is_at_war = no
		
		#Does not own any non RUS land
		NOT = { any_scope_state = { state_region = { NOT = { is_homeland = cu:russian } } } }
	}

	immediate = {
		change_tag = RUS
		remove_primary_culture = cu:soviet
	}

}